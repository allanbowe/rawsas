{"componentChunkName":"component---src-templates-template-tsx","path":"/mf_increment/","result":{"data":{"post":{"id":"dd7dace4-d4e3-50a3-a05a-d7940038ea9e","html":"<h1>Incrementing a Macro Variable</h1>\n<p>Incrementing a macro variable is fairly straightforward and can be done in several ways, for instance - a do-loop:</p>\n<div class=\"gatsby-highlight\" data-language=\"sas\"><pre class=\"language-sas\"><code class=\"language-sas\"><span class=\"token macro-declaration\"><span class=\"token keyword\">%macro</span> incr()</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%do</span> incme<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token macro-keyword keyword\">%to</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n  <span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%end</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">%</span>mend<span class=\"token punctuation\">;</span>\n<span class=\"token function keyword\">%incr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Which gives:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; margin-bottom: 1.0725rem;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 121.80851063829788%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAABYlAAAWJQFJUiTwAAABmUlEQVR42q2VC4+CQAyE+f9/zwRFoqL4VgQhasRHzdekhNvTi567yQbRdjoz7a7B7XaTJEnker1Kex0OB9nv9zIajSSOY32ez2fp9XqSZZkMBgPpdDoaU1VVkxfc73dZLBYCcHttt1uZz+cynU6lKArJ81xWq5WC8X65XHST184NeJnNZg1DCrDW67X0+30tttvtZLlcynA41M8AWpy7FHAymfySjBS+L8tSwbEFxgAej0eNcVUpIEBUt4r2TNNUvQMYplEUKVu8xT8swFcK/gAEgMrPqpE0Ho+VFf5RmFiYn04nzXGVKSBJGNxedV0rACyRCFO8M2A6/tJDmmIMTfJms1FJyHzVgKeAUMZwY2jJSMO3brfbzBm/2f4TEBluEL7RGOaQmXybIVLxhG6x8c5OCkAA49+7spuTwmjQHHcMPl0KiDS8ogkwcv36qCkE46GdBC8MTbKdgK8ArSkwZB4ZXi8ehmGot8nXDNsewpAR8eqhddmLhwDbXefNQy4Frx56aUrbQ86ve2l+DIiHgHFS+P/gNv4v4APkl0+MMfh1ygAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mf increment1\"\n        title=\"\"\n        src=\"/static/9d8b2cf066c2fc12397f96aaba2622cf/37523/mf_increment1.png\"\n        srcset=\"/static/9d8b2cf066c2fc12397f96aaba2622cf/4dcb9/mf_increment1.png 188w,\n/static/9d8b2cf066c2fc12397f96aaba2622cf/5ff7e/mf_increment1.png 375w,\n/static/9d8b2cf066c2fc12397f96aaba2622cf/37523/mf_increment1.png 720w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>What about incrementing <em>outside</em> a macro?  Thereâ€™s the option of <code class=\"language-text\">%eval(x+1)</code>.  For instance:</p>\n<div class=\"gatsby-highlight\" data-language=\"sas\"><pre class=\"language-sas\"><code class=\"language-sas\"><span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%let</span> incme<span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token macro-variable\">&amp;incme</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token macro-keyword keyword\">%put</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">=</span>incme<span class=\"token punctuation\">;</span></code></pre></div>\n<p>This works fine, although it is quite verbose as we need to re-assign the variable each time:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; margin-bottom: 1.0725rem;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 175%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAABYlAAAWJQFJUiTwAAADAElEQVR42p3ViU4jMRAEUP7/AzkUbgiQC8KRcCZGz1LNOiOWZHckyzNju7uqumzvfX19ldlsVtbrdcnz8fFRFotF/T8ej8vj42N5fn4u0+m0PDw8lKurq/ptTv/Zs/ju7m7j58vLSxdsOByW6+vrOse/t7e3GvTz87MAs1NA2U9PT+vC0WhUjo6OysXFRUW4XC7L+/t77c3TJEnwGhAKlEP76empXF5elvl8XiaTSTk7O6sBUb25ualJbm9v6z/oJcKqBgTdQk8b8Pz8vP43GXXfKG97akCZj4+PazZ0PKvVaqNQLYNfA6IsEB0ET1FQog8d0UeVNHqI6e4/MJDTtAtoUpsdVYjRNUZDjXasoklKGu+vr68ds0pZZov5TbUkkdXELDYO8U4axmsqKhj90hsnh2990HgP2g3bGIwP2yqzBP3odXJyUrXSJEedFOb4xqazjcwWtQFRHwwGdaJk0B8eHnbzfqUMqixE14Mf27RJ/sk24NMmOtAFGr2KG1cUVCGO2QHwfX9//8c2NOS5NjvK9q8iWYT+wcFBpU6rWEYyLfu7q7LMBkxCFe2+bVrhd9JQBQUmAbT+6yXINoxH04DRoIvmlXJOm5Yyq0BlDF07x5Fmu5EIAFIoJmli+h99mIDEjueyFXeibIHjSY+KJ5TTQn1rQAjRILhqWawQUPsHpermUI2FctqQxBwF7Hxocl9DiLP1LKRVkqTl8sp+7mwTi2ixjUDxm4W+ve902kCjYpD6bm2T97TcdnrsSJa5nYY0ap+WsiSSOVlyUdGSdmzkH/SdbWTpbz27RpCILyHb8FsOjtbw7cFRKcvCd/qIG+qxzN8u9h9tg1aKIgD75ARBBSX0IdYwMA69Md9dlVPR9lFNNski7zF+Tpgk0HPDhm0M5FQJQqILbAFbKYb3nS96CBSnf9FHw/R0TJ/3dkt2GrZVppsCoWZMhe2W1jYqzzaAbNgmp03fNk5sE3O77e/v1+B927QbYONeljnVzL3cnjLZHVs1NBlcu6Ot1v8+34b+i49RivE5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mf increment2\"\n        title=\"\"\n        src=\"/static/32c22db8243db801adae0628e0c8760e/1d69c/mf_increment2.png\"\n        srcset=\"/static/32c22db8243db801adae0628e0c8760e/4dcb9/mf_increment2.png 188w,\n/static/32c22db8243db801adae0628e0c8760e/5ff7e/mf_increment2.png 375w,\n/static/32c22db8243db801adae0628e0c8760e/1d69c/mf_increment2.png 750w,\n/static/32c22db8243db801adae0628e0c8760e/b4098/mf_increment2.png 816w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>An alternative approach would be a simple macro to update the variable each time AND return the incremented value.  This is the purpose of the <a href=\"https://core.sasjs.io/mf__increment_8sas.html\">mf_increment()</a> macro, which works in a very similar way to the SAS monotonic() function.  The definition is basic enough:</p>\n<div class=\"gatsby-highlight\" data-language=\"sas\"><pre class=\"language-sas\"><code class=\"language-sas\"><span class=\"token macro-declaration\"><span class=\"token keyword\">%macro</span> mf_increment(macro_name,incr=1)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">/* iterate the value */</span>\n  <span class=\"token macro-keyword keyword\">%let</span> <span class=\"token macro-variable\">&amp;macro_name</span><span class=\"token operator\">=</span><span class=\"token macro-keyword keyword\">%eval</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span><span class=\"token macro-variable\">&amp;macro_name</span><span class=\"token operator\">+</span><span class=\"token macro-variable\">&amp;incr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/* return the value */</span>\n  <span class=\"token operator\">&amp;</span><span class=\"token operator\">&amp;</span><span class=\"token macro-variable\">&amp;macro_name</span>\n\n<span class=\"token macro-end\"><span class=\"token keyword\">%mend</span> mf_increment</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>And the usage:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">%let incme=1;\n%put incme=%mf_increment(incme);\n%put incme=%mf_increment(incme);\n%put incme=%mf_increment(incme);\n%put incme=%mf_increment(incme);\n%put incme=%mf_increment(incme);\n%put incme=%mf_increment(incme);\n%put incme=%mf_increment(incme);\n%put incme=%mf_increment(incme);\n%put incme=%mf_increment(incme);</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; margin-bottom: 1.0725rem;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 111.17021276595744%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAACAElEQVR42q2UWW8aQRCEV8YhCoux5SQvjvjPy8JiPzmRlZ+F4IFL3Pd9VPabpCUUJ9m1lJFa07NN11RXN+N9uvd0f+fp6uqdisWi8vm8s4eHL8q+zyrve/r80ZP/wdP1ddbFbm4K8n1fmUwm3vMqFG5VuL1TLpeT9/QUKIoCBUFJj49VlcthbOX4W1XVKNTLt0DfX0r6+lxSGP60SoV4FOcEKoeh+xZFlfh7RZ7+8/LG47HW67VOp5OGw6F6vZ4mk4nz2+2O+v1+bINfe1+DwUCz2Uz7/V7H4/GVecvl0gVZgAK+WCy0Wq1EDN8uZJ3P538z5LbtdusOAHe7XdXrdTWbTTUaDdVqNbVaLccM1rA3n8teAV4yhLKVRsJ0OtVms9Fut3PMfre/MiSBRWmj0Ujz+dzpxJ5U4h8ZGqDpxg44DA+Hw9sA0cQA8el6u912TJECfTF+Y79LZAgITBAZAxh2lG2+nRO7DABN4HYr2ZKJmW/nREAAGAPKQzeMZpBMzHw7v4khIwKgDbTt5lNBIiAMjKEl0xB0pUzzTcdEQG5FeJqCj5lmsLrUL5WGMORBYDRMMxhZd823c2qG/O3Q0IBNs0s/lYaU0+l0HJAl2ajA9nIGU5UMAGXRFOvyZWfNTz021mXGBh/jpbHXhph1GmlSMSQBdmawtB2zxwJLAvwBbJZltVR9TAAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mf increment3\"\n        title=\"\"\n        src=\"/static/59ccc44e0657f31aeb94ea1cd43ba46d/1d69c/mf_increment3.png\"\n        srcset=\"/static/59ccc44e0657f31aeb94ea1cd43ba46d/4dcb9/mf_increment3.png 188w,\n/static/59ccc44e0657f31aeb94ea1cd43ba46d/5ff7e/mf_increment3.png 375w,\n/static/59ccc44e0657f31aeb94ea1cd43ba46d/1d69c/mf_increment3.png 750w,\n/static/59ccc44e0657f31aeb94ea1cd43ba46d/78797/mf_increment3.png 1125w,\n/static/59ccc44e0657f31aeb94ea1cd43ba46d/52ab5/mf_increment3.png 1420w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>For more information, check out the <a href=\"https://core.sasjs.io/mf__increment_8sas.html\">documentation</a> and <a href=\"https://core.sasjs.io/mf__increment_8test_8sas.html\">tests</a>.</p>","frontmatter":{"title":"mf_increment","path":"/mf_increment/","previewImg":{"publicURL":"/static/59ccc44e0657f31aeb94ea1cd43ba46d/mf_increment3.png","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/59ccc44e0657f31aeb94ea1cd43ba46d/f2d6a/mf_increment3.png","srcSet":"/static/59ccc44e0657f31aeb94ea1cd43ba46d/f8064/mf_increment3.png 200w,\n/static/59ccc44e0657f31aeb94ea1cd43ba46d/2028e/mf_increment3.png 400w,\n/static/59ccc44e0657f31aeb94ea1cd43ba46d/f2d6a/mf_increment3.png 800w","sizes":"(min-width: 800px) 800px, 100vw"},"sources":[{"srcSet":"/static/59ccc44e0657f31aeb94ea1cd43ba46d/27e7e/mf_increment3.webp 200w,\n/static/59ccc44e0657f31aeb94ea1cd43ba46d/1c0d9/mf_increment3.webp 400w,\n/static/59ccc44e0657f31aeb94ea1cd43ba46d/a4d06/mf_increment3.webp 800w","type":"image/webp","sizes":"(min-width: 800px) 800px, 100vw"}]},"width":800,"height":890}}},"tags":["sasjs-core","macros"],"date":"Jul 15, 2022"}}},"pageContext":{"archives":{"2012":8,"2013":10,"2014":4,"2015":7,"2016":17,"2017":12,"2018":9,"2019":2,"2020":3,"2021":1,"2022":7,"2023":1,"2024":1,"2025":3}}},"staticQueryHashes":["1133634862"],"slicesMap":{}}