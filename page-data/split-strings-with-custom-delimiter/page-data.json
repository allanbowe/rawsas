{"componentChunkName":"component---src-templates-template-tsx","path":"/split-strings-with-custom-delimiter/","result":{"data":{"post":{"id":"a02b6efc-387c-5ce7-af5a-1d91e1f91bce","html":"<p>I recently had a challenge - how to delimit an array of character data, when the delimiter itself may be in the data?  Furthermore, when that array has to fit in a SAS macro variable?</p>\n<p>I was aware of nonprintables (hidden gremlins that can sometimes lurk in SAS program files), and attempted to use one as a delimiter.  To my surprise this didn’t work, and it turned out that SAS does not<a href=\"http://morgan.dartmouth.edu/Docs/sas92/support.sas.com/documentation/cdl/en/mcrolref/61885/HTML/default/getstart.htm\"> fully support</a> nonprintables in Macro.  So, I turned to <a href=\"/sas-l-is-still-alive\">SAS-L</a> for help.</p>\n<h3>heLp!</h3>\r\nThere were two interesting things that came of that conversation, both from <a href=\"https://communities.sas.com/t5/user/viewprofilepage/user-id/19924\">FriedEgg</a>.  Firstly, the nonprintables ARE stored in the symbol table - they just fail to resolve.  However, they can be viewed by reading directly from sashelp.vmacro.\n<p>Secondly - a defined range of 6400 unicode characters already exist for ‘private use’ such as this!  They are known as “Private Use Characters” (or “User Defined Characters”) and exist in the range U+E000 -> U+F8FF.  The full spec is available <a href=\"http://www.unicode.org/versions/Unicode10.0.0/ch23.pdf#G19184\">here</a>.  To implement something like this in SAS, one uses hexadecimal notation - a quoted string with an even number of hex characters, followed by the letter x.</p>\n<h3>Here be dragons..</h3>\r\nWatch out!!  As pointed out by <a href=\"https://www.linkedin.com/in/xlr82sas/\">Roger DeAngelis</a> on the same thread, when dealing with hex data in datastep one has to watch out for a common binary delimeter - '00'x.  This can cause unexpected results when delimiting missing values.  So - you should basically avoid any hex value that has a double 0 (such as 'E000'x).  Use delimiters such as 'E042'x or 'E999'x instead.  So - here is how one might go about the delimiting task:\r\n<pre>data _null_;\r\n  dlm='E042'x;\r\n  call symputx('macarray','special!!'!!dlm!!'*,xx');\r\nrun;\r\n%put &amp;macarray;\r\nfilename tmp temp;\r\ndata _null_;\r\n  file tmp;\r\n  length myvar $32767;\r\n  myvar=symget('macarray');\r\n  put myvar;\r\nrun;\r\ndata _null_;\r\n infile tmp;\r\n input;\r\n put _infile_;\r\nrun;\n</pre>\r\nWhich printed (in both instances):\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 244px; margin-bottom: 1.0725rem;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 18.085106382978726%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwklEQVR42nWPsYqDUBBF/TS/xe/wQwQLQ0SwEbGzsdNFLARln4qF2Ghl5W6hop5NXhGSJbkwMMy5M5dReKPzPB+1bdsLW9eVcRxffM9SoiiiqiriOJZVFAVCCMqyJM9zybquo21b+r5H13VUVcXzPLIsk0eE+CZJvkjTFMU0TQzDwLIsHMchDENpDIIA13VvxkSGNE1DXdf4vo+maTJoGAY5v+9crxds20bZ951pmvik/y8dx8GyLA82z7Psf37vDP4AIyoe9zBFxiUAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"Screen Shot 2017 10 10 at 20 34 07\" title=\"\" src=\"/static/2949f58acc8d2c53ca873b16ce7b7178/0cba8/Screen-Shot-2017-10-10-at-20.34.07.png\" srcset=\"/static/2949f58acc8d2c53ca873b16ce7b7178/4dcb9/Screen-Shot-2017-10-10-at-20.34.07.png 188w,\n/static/2949f58acc8d2c53ca873b16ce7b7178/0cba8/Screen-Shot-2017-10-10-at-20.34.07.png 244w\" sizes=\"(max-width: 244px) 100vw, 244px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<p>Job done!</p>","frontmatter":{"title":"Split Character Data With Private Use Delimiters","path":"/split-strings-with-custom-delimiter/","previewImg":{"publicURL":"/static/2949f58acc8d2c53ca873b16ce7b7178/frontmatter9.png","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/2949f58acc8d2c53ca873b16ce7b7178/4a58c/frontmatter9.png","srcSet":"/static/2949f58acc8d2c53ca873b16ce7b7178/630ae/frontmatter9.png 61w,\n/static/2949f58acc8d2c53ca873b16ce7b7178/19528/frontmatter9.png 122w,\n/static/2949f58acc8d2c53ca873b16ce7b7178/4a58c/frontmatter9.png 244w","sizes":"(min-width: 244px) 244px, 100vw"},"sources":[{"srcSet":"/static/2949f58acc8d2c53ca873b16ce7b7178/c381e/frontmatter9.webp 61w,\n/static/2949f58acc8d2c53ca873b16ce7b7178/2b2f7/frontmatter9.webp 122w,\n/static/2949f58acc8d2c53ca873b16ce7b7178/b750e/frontmatter9.webp 244w","type":"image/webp","sizes":"(min-width: 244px) 244px, 100vw"}]},"width":800,"height":144.2622950819672}}},"tags":["Programming","Stored Process Web Applications","Web Applications"],"date":"Oct 10, 2017"}}},"pageContext":{"archives":{"2012":8,"2013":10,"2014":4,"2015":7,"2016":17,"2017":12,"2018":9,"2019":2,"2020":3,"2021":1,"2022":7,"2023":1,"2024":1,"2025":3}}},"staticQueryHashes":["1133634862"],"slicesMap":{}}